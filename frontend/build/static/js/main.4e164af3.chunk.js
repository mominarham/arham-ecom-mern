(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{68:function(e,t,c){},70:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(18),a=c.n(i),s=(c(68),c(69),c(70),c(90)),d=c(82),l=c(21),j=c(6),o=c(27),h=c(2),b=function(e,t){switch(t.type){case"FETCH_PRODCUT":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,product:t.payload});case"ADD_TO_CART":return Object(h.a)(Object(h.a)({},e),{},{cart:[].concat(Object(o.a)(e.cart),[Object(h.a)(Object(h.a)({},t.payload),{},{qty:1})])});case"REMOVE_FROM_CART":return Object(h.a)(Object(h.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id}))});case"PAYMENT_DONE":return Object(h.a)(Object(h.a)({},e),{},{cart:[]});case"DECREASE_ITEM":var c=e.cart.map((function(e){return e.id===t.payload?Object(h.a)(Object(h.a)({},e),{},{qty:e.qty-1}):e}));return Object(h.a)(Object(h.a)({},e),{},{cart:c});case"INCREASE_ITEM":var n=e.cart.map((function(e){return e.id===t.payload?Object(h.a)(Object(h.a)({},e),{},{qty:e.qty+1}):e}));return Object(h.a)(Object(h.a)({},e),{},{cart:n});default:return e}},O=function(e,t){return"SET_ITEM"===t.type?Object(h.a)(Object(h.a)({},e),{},{loading:!1,item:t.payload}):e},p=function(e,t){return"FILTER_BY-SEARCH"===t.type?Object(h.a)(Object(h.a)({},e),{},{searchQuery:t.payload}):e},x=c(1),u=Object(n.createContext)();var y=function(e){var t=e.children,c=Object(n.useReducer)(b,{product:[],loading:!0,cart:[]}),r=Object(j.a)(c,2),i=r[0],a=r[1],s=Object(n.useReducer)(O,{item:[],loading:!0}),d=Object(j.a)(s,2),l=d[0],o=d[1],h=Object(n.useReducer)(p,{searchQuery:""}),y=Object(j.a)(h,2),f=y[0],g=y[1];return Object(n.useEffect)((function(){fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){a({type:"FETCH_PRODCUT",payload:e})}))}),[]),Object(x.jsx)(u.Provider,{value:{state:i,dispatch:a,productState:f,productDispatch:g,SingleState:l,SingleDispatch:o},children:t})},f=function(){return Object(n.useContext)(u)};var g=function(e){var t=e.product,c=f(),n=c.state.cart,r=c.dispatch;return Object(x.jsx)("div",{style:{marginTop:"20px"},children:Object(x.jsxs)(s.a,{style:{width:"20rem",height:"480px"},children:[Object(x.jsx)(s.a.Img,{variant:"top",src:t.image,height:"300px",alt:"product"}),Object(x.jsxs)(s.a.Body,{children:[Object(x.jsx)(s.a.Text,{style:{height:"40px"},children:Object(x.jsx)("p",{style:{fontWeight:"bold",fontSize:"14px"},children:t.title})}),Object(x.jsxs)("p",{style:{fontWeight:"bold",fontSize:"14px",margin:"0",padding:"0"},children:[" Price: ",t.price," Rs."]}),Object(x.jsxs)("div",{style:{marginTop:"20px"},children:[Object(x.jsxs)(d.a,{variant:"primary",style:{marginRight:"40px"},children:[" ",Object(x.jsx)(l.b,{style:{textDecoration:"none",color:"white"},to:"detail/?prodId=".concat(t.id),children:" View Item"})," "]}),n.some((function(e){return e.id===t.id}))?Object(x.jsx)(d.a,{onClick:function(){return r({type:"REMOVE_FROM_CART",payload:t})},variant:"danger",children:" Remove Item "}):Object(x.jsx)(d.a,{onClick:function(){return r({type:"ADD_TO_CART",payload:t})},variant:"primary",children:" Add to cart "})]})]})]})})},m=c(83),v=c(84),E=c(85),C=c(59);var T=function(){var e=f(),t=e.state,c=e.productState;return Object(x.jsx)("div",{children:Object(x.jsx)(m.a,{children:t.loading?Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["  ",Object(x.jsx)(v.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})," "]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{children:[" ",Object(x.jsxs)(E.a,{children:["  ",function(){var e=t.product;return c.searchQuery&&(e=e.filter((function(e){return e.title.toLowerCase().includes(c.searchQuery)}))),e}().map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a,{xl:4,lg:4,md:6,sm:12,children:Object(x.jsx)(g,{product:e})},e.title)})}))," "]})]})," "]})})})},R=c(7),S=c(60),k=c.n(S);var _=function(e){var t=e.total,c=Object(R.f)(),n=f(),r=n.state.cart,i=n.dispatch;return Object(x.jsx)("div",{children:Object(x.jsx)(k.a,{stripeKey:"pk_test_51JwkwTSInJQZSc8LbK4SqtxYm8mtthcHxyREhETd1FsGX1l4YLVg58cHOfpq2DZbSk3y1DOLXfy3qkhkgty4Eu9V00FDf1OMSf",token:function(e){var n={token:e,cart:r,total:t};return fetch("http://localhost:5000/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){i({type:"PAYMENT_DONE"}),c("/")})).catch((function(e){return console.log("errr  ===>",e)}))},name:"Pay Using Card",amount:100*t,currency:"INR",shippingAddress:!0})})};var I=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],r=t[1],i=f(),a=i.state.cart,l=i.dispatch;return Object(n.useEffect)((function(){r(a.reduce((function(e,t){return e+t.price*t.qty}),0))}),[a]),Object(x.jsx)("div",{children:Object(x.jsx)("div",{style:{display:"flex"},children:a.length?Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsxs)("div",{style:{width:"900px",borderRight:"1px solid #C8C9CA",height:"500px"},children:[" ",a.map((function(e){return Object(x.jsx)("div",{style:{},children:Object(x.jsxs)("div",{style:{width:"870px"},children:[Object(x.jsx)("img",{src:e.image,style:{width:"100px",height:"120px"},alt:"product"}),Object(x.jsxs)(s.a.Body,{children:[Object(x.jsxs)(s.a.Text,{style:{height:"40px"},children:[Object(x.jsx)("p",{style:{fontWeight:"bold",fontSize:"14px"},children:e.title}),Object(x.jsxs)("p",{style:{fontWeight:"bold",fontSize:"14px"},children:["Price  ",e.price]})]}),Object(x.jsxs)("div",{style:{marginTop:"40px"},children:[Object(x.jsx)(d.a,{variant:"primary",disabled:1===e.qty,onClick:function(){return l({type:"DECREASE_ITEM",payload:e.id})},children:"- "})," ",e.qty," ",Object(x.jsx)(d.a,{variant:"primary",onClick:function(){return l({type:"INCREASE_ITEM",payload:e.id})},children:" + "}),Object(x.jsx)(d.a,{style:{marginLeft:"20px"},onClick:function(){return l({type:"REMOVE_FROM_CART",payload:e})},variant:"danger",children:" Remove Item "})]})]}),Object(x.jsx)("hr",{})]})})}))]}),Object(x.jsxs)("div",{style:{marginLeft:"40px"},children:[Object(x.jsx)("div",{children:Object(x.jsxs)("h5",{children:[" Total :  ",(Math.round(100*c)/100).toFixed(2)," Rs. "]})}),Object(x.jsx)("div",{style:{marginLeft:"0px"},children:Object(x.jsx)(_,{total:c})})]})]}):Object(x.jsx)("p",{children:"no product"})})})},A=c(87),D=c(88),F=c(89),M=c(62),w=c(86),L=c(63);var N=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(null),a=Object(j.a)(i,2),s=a[0],o=a[1],h=Object(n.useRef)(null),b=f(),O=b.state.cart,p=b.dispatch;return Object(x.jsxs)("div",{ref:h,children:[Object(x.jsxs)(d.a,{onClick:function(e){r(!c),o(e.target)},children:["cart (",O.length,")  "]}),Object(x.jsx)(w.a,{show:c,target:s,placement:"bottom",container:h,containerPadding:20,children:Object(x.jsxs)(L.a,{id:"popover-contained",children:[Object(x.jsx)(L.a.Header,{as:"h3",children:"Items"}),Object(x.jsx)(L.a.Body,{children:0===O.length?Object(x.jsxs)("div",{style:{width:"300px"},children:[" ",Object(x.jsx)("p",{children:" no product "})," "]}):O.map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsxs)("div",{style:{width:"170px",paddingTop:"10px"},children:["  ",Object(x.jsxs)("p",{style:{fontSize:"12px",fontWeight:"bold",padding:"0",margin:"0"},children:[e.title,"   "]})]}),Object(x.jsx)("div",{style:{marginLeft:"10px"},children:Object(x.jsx)(d.a,{variant:"danger",size:"sm",onClick:function(){return p({type:"REMOVE_FROM_CART",payload:e})},children:" remove"})})]}),Object(x.jsx)("hr",{style:{color:"black",backgroundColor:"black",height:1}})]})}))}),O.length?Object(x.jsxs)("div",{style:{background:"#002E83",height:"30px"},children:[" ",Object(x.jsxs)(l.b,{to:"/checkout",children:[Object(x.jsx)("p",{style:{textDecoration:"none",color:"white",display:"flex",justifyContent:"center",paddingTop:"5px",fontWeight:"bold"},children:" Checkout "})," "]})]}):null]})})]})};var P=function(){var e=f().productDispatch;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(m.a,{fluid:!0,children:Object(x.jsx)(A.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top",children:Object(x.jsxs)(m.a,{fluid:!0,children:[Object(x.jsxs)(A.a.Brand,{children:[" ",Object(x.jsxs)(l.b,{style:{textDecoration:"none"},to:"/",children:[Object(x.jsx)("p",{style:{color:"white",padding:"0",margin:"0"},children:" Home"})," "]}),"  "]}),Object(x.jsx)(A.a.Toggle,{"aria-controls":"navbarScroll"}),Object(x.jsxs)(A.a.Collapse,{id:"navbarScroll",children:[Object(x.jsx)(D.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),Object(x.jsx)(F.a,{className:"d-flex",children:Object(x.jsx)(M.a,{className:"me-5",placeholder:"search a product",onChange:function(t){e({type:"FILTER_BY-SEARCH",payload:t.target.value})}})}),Object(x.jsx)(N,{})]})]})})})})};var q=function(){var e=Object(R.f)(),t=f(),c=t.state,r=c.product,i=c.cart,a=t.dispatch,s=t.SingleState,l=t.SingleDispatch,j=Object(R.e)().search,o=new URLSearchParams(j).get("prodId");return Object(n.useEffect)((function(){!function(){var e=r.filter((function(e){return e.id===Number(o)}));l({type:"SET_ITEM",payload:e})}()}),[]),Object(x.jsx)("div",{children:s.loading?Object(x.jsx)(x.Fragment,{children:" loading........ "}):Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{style:{width:"400px",height:"600px"},src:s.item[0].image,alt:"product"})}),Object(x.jsxs)("div",{style:{marginLeft:"40px",marginTop:"90px"},children:[Object(x.jsx)("div",{children:Object(x.jsxs)("h6",{children:[" ",s.item[0].title,"  "]})}),Object(x.jsx)("div",{children:Object(x.jsxs)("h6",{children:[" ",s.item[0].price," Rs.  "]})}),Object(x.jsxs)("div",{style:{marginTop:"30px"},children:[i.some((function(e){return e.id===s.item[0].id}))?Object(x.jsx)(d.a,{onClick:function(){return a({type:"REMOVE_FROM_CART",payload:s.item[0]})},variant:"danger",children:" Remove Item "}):Object(x.jsx)(d.a,{onClick:function(){return a({type:"ADD_TO_CART",payload:s.item[0]})},variant:"primary",children:" Add to cart "}),Object(x.jsx)(d.a,{onClick:function(){return e("/")},style:{marginLeft:"30px"},variant:"primary",children:" Back Home "})]})]})]})})};var H=function(){return Object(x.jsx)(l.a,{children:Object(x.jsxs)(m.a,{fluid:!0,children:[Object(x.jsx)(P,{}),Object(x.jsx)("div",{style:{marginTop:"80px"},children:Object(x.jsxs)(R.c,{children:[Object(x.jsx)(R.a,{exact:!0,path:"/",element:Object(x.jsx)(T,{})}),Object(x.jsx)(R.a,{path:"/checkout",element:Object(x.jsx)(I,{})}),Object(x.jsx)(R.a,{path:"/detail/",element:Object(x.jsx)(q,{})})]})})]})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,91)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(y,{children:Object(x.jsx)(H,{})})}),document.getElementById("root")),B()}},[[77,1,2]]]);
//# sourceMappingURL=main.4e164af3.chunk.js.map